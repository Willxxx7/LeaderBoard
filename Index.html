<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ü•á Hot Beans Leaderboard - Submit & Rank!</title>
  <style>
    :root {
      --bg: linear-gradient(135deg, #f04e23, #ff6f47);
      --card: rgba(255,255,255,0.95);
      --text: #333;
      --accent: #f04e23;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, Arial, sans-serif;
      background: var(--bg);
      min-height: 100vh;
      padding: 2rem;
    }
    .container { max-width: 1000px; margin: 0 auto; }
    
    h1 {
      text-align: center;
      font-size: clamp(2rem, 5vw, 3.5rem);
      background: var(--card);
      padding: 1.5rem;
      border-radius: 20px;
      margin-bottom: 2rem;
      box-shadow: 0 15px 35px rgba(0,0,0,0.2);
    }
    
    .submit-form {
      background: var(--card);
      padding: 2.5rem;
      border-radius: 20px;
      margin-bottom: 2rem;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    }
    
    .form-group {
      margin-bottom: 1.5rem;
    }
    
    input[type="text"], input[type="url"] {
      width: 100%; max-width: 400px;
      padding: 1rem; border: 3px solid var(--accent);
      border-radius: 12px; font-size: 1.1rem;
      margin-bottom: 0.5rem; outline: none;
      transition: border-color 0.3s;
    }
    
    input:focus { border-color: #d43f1a; }
    
    #submit-btn {
      background: var(--accent); color: white;
      border: none; padding: 1.2rem 3rem;
      font-size: 1.3rem; border-radius: 30px;
      cursor: pointer; font-weight: 800;
      transition: all 0.3s;
    }
    
    #submit-btn:hover:not(:disabled) { 
      background: #d43f1a; transform: scale(1.05);
    }
    
    #submit-btn:disabled {
      background: #ccc; cursor: not-allowed; transform: none;
    }
    
    #status { 
      margin-top: 1.5rem; font-weight: 800; 
      min-height: 2.5rem; font-size: 1.2rem;
    }
    
    .leaderboard {
      background: var(--card);
      border-radius: 20px; padding: 2.5rem;
      box-shadow: 0 20px 50px rgba(0,0,0,0.2);
    }
    
    .leaderboard h2 {
      text-align: center; margin-bottom: 2rem;
      color: var(--accent); font-size: 2rem;
    }
    
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 1.2rem 0.5rem; text-align: left; }
    th { 
      background: #f8f4f0; font-weight: 800; 
      color: var(--text); text-transform: uppercase;
      font-size: 0.9rem; letter-spacing: 1px;
    }
    tr { border-bottom: 1px solid #eee; }
    tr:hover { background: rgba(240,78,35,0.08); }
    
    .rank-1 { 
      background: linear-gradient(90deg, #ffd700, #ffed4e) !important;
      font-weight: 900; box-shadow: 0 5px 15px rgba(255,215,0,0.4);
    }
    .rank-2 { 
      background: linear-gradient(90deg, #c0c0c0, #e5e5e5) !important;
      box-shadow: 0 3px 10px rgba(192,192,192,0.3);
    }
    .rank-3 { 
      background: linear-gradient(90deg, #cd7f32, #daa520) !important;
      box-shadow: 0 3px 10px rgba(205,127,50,0.3);
    }
    
    .score-badge {
      padding: 0.4rem 1.2rem; border-radius: 25px;
      font-weight: 900; font-size: 1rem;
      display: inline-block; box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }
    .score-90plus { background: #28a745; color: white; }
    .score-80plus { background: #ffc107; color: #333; }
    .score-below { background: #fd7e14; color: white; }
    
    .remove-btn {
      background: #dc3545; color: white; border: none;
      padding: 0.3rem 0.8rem; border-radius: 15px;
      cursor: pointer; font-size: 0.8rem; margin-left: 0.5rem;
    }
    
    @media (max-width: 768px) {
      body { padding: 1rem; }
      table { font-size: 0.9rem; }
      th, td { padding: 0.8rem 0.3rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ü•á Hot Beans Web Dev Leaderboard</h1>
    
    <div class="submit-form">
      <h2>üöÄ Submit Your Portfolio</h2>
      <div class="form-group">
        <input type="text" id="student-name" placeholder="Your Name (e.g. Sarah Johnson)" required>
      </div>
      <div class="form-group">
        <input type="url" id="site-url" placeholder="https://username.github.io/hot-beans-web" required>
      </div>
      <br>
      <button id="submit-btn">ü§ñ RANK MY SITE NOW</button>
      <div id="status"></div>
    </div>
    
    <div class="leaderboard">
      <h2>üî• Live Class Rankings (Real Submissions)</h2>
      <table>
        <thead>
          <tr>
            <th>ü•á Rank</th>
            <th>üë®‚Äçüíª Student</th>
            <th>üåê Portfolio</th>
            <th>üéØ Total Score</th>
            <th>‚≠ê WAVE</th>
            <th>‚ö° Speed</th>
            <th>üóëÔ∏è</th>
          </tr>
        </thead>
        <tbody id="leaderboard"></tbody>
      </table>
    </div>
  </div>

  <script>
    // Load submissions from localStorage
    let leaderboard = JSON.parse(localStorage.getItem('hotbeans-leaderboard')) || [
      { name: "Sarah Johnson", url: "https://sarahj.github.io/hot-beans", score: 96, wave: 9.8, speed: 97, id: Date.now()-1000 },
      { name: "John Davies", url: "https://johnd.github.io/hot-beans", score: 92, wave: 9.4, speed: 93, id: Date.now()-2000 }
    ];

    function saveLeaderboard() {
      localStorage.setItem('hotbeans-leaderboard', JSON.stringify(leaderboard));
    }

    function renderLeaderboard() {
      leaderboard.sort((a,b) => b.score - a.score);
      const tbody = document.getElementById('leaderboard');
      tbody.innerHTML = leaderboard.map((entry, index) => `
        <tr class="${index<3 ? 'rank-'+(index+1) : ''}">
          <td><strong>${index+1}üèÖ</strong></td>
          <td><strong>${entry.name}</strong></td>
          <td><a href="${entry.url}" target="_blank" rel="noopener">${entry.url.replace('https://','')}</a></td>
          <td><span class="score-badge ${entry.score>=90 ? 'score-90plus' : entry.score>=80 ? 'score-80plus' : 'score-below'}">${entry.score}/100</span></td>
          <td>${entry.wave}</td>
          <td>${entry.speed}</td>
          <td><button class="remove-btn" onclick="removeEntry(${entry.id})">Remove</button></td>
        </tr>
      `).join('');
    }

    function removeEntry(id) {
      leaderboard = leaderboard.filter(entry => entry.id !== id);
      saveLeaderboard();
      renderLeaderboard();
    }

    document.getElementById('submit-btn').onclick = () => {
      const name = document.getElementById('student-name').value.trim();
      const url = document.getElementById('site-url').value.trim();
      const status = document.getElementById('status');
      const submitBtn = document.getElementById('submit-btn');
      
      if(!name || !url) {
        status.innerHTML = '‚ö†Ô∏è <strong>Please fill in both fields</strong>';
        status.style.color = '#dc3545';
        return;
      }
      
      if(!url.includes('github.io')) {
        status.innerHTML = '‚ö†Ô∏è <strong>Must be GitHub Pages URL (github.io)</strong>';
        status.style.color = '#dc3545';
        return;
      }
      
      // Disable button during processing
      submitBtn.disabled = true;
      submitBtn.textContent = 'ü§ñ AI Judging...';
      status.innerHTML = 'üîç Testing WAVE accessibility, PageSpeed, CSS Grid usage...';
      status.style.color = '#007bff';
      
      // Simulate AI analysis (realistic timing)
      setTimeout(() => {
        const score = Math.floor(Math.random() * 18) + 78; // 78-96 range
        const wave = (score * 0.103).toFixed(1);
        const speed = score + Math.floor(Math.random()*10);
        
        const newEntry = {
          name: name.substring(0,20), // Max 20 chars
          url: url,
          score: score,
          wave: wave,
          speed: Math.min(100, speed),
          id: Date.now()
        };
        
        leaderboard.unshift(newEntry);
        leaderboard.length = Math.min(100, leaderboard.length); // Top 100 max
        saveLeaderboard();
        renderLeaderboard();
        
        status.innerHTML = `üéâ <strong>${score}/100! Ranked #${leaderboard.findIndex(e => e.id === newEntry.id) + 1}!</strong>`;
        status.style.color = score >= 90 ? '#28a745' : score >= 80 ? '#ffc107' : '#fd7e14';
        
        // Reset form
        document.getElementById('student-name').value = '';
        document.getElementById('site-url').value = '';
        submitBtn.disabled = false;
        submitBtn.textContent = 'üöÄ RANK MY SITE NOW';
      }, 3000); // 3 second "AI analysis"
    };

    // Initial load
    renderLeaderboard();
  </script>
</body>
</html>
